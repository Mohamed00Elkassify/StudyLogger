{% extends "study_sessions/base.html" %}

{% block content %}
    <h2>Your Study Sessions</h2>
    <form method="get">
        <label for="subject">Subject:</label>
        <input type="text" id="subject" name="subject" value="{{ request.GET.subject }}" title="Enter the subject" placeholder="Subject">
        <label for="start">Start:</label>
        <input type="text" id="start" name="start" value="{{ request.GET.start_date }}" title="Enter the start date" placeholder="YYYY-MM-DD">
        <label for="end">End:</label>
        <input type="text" id="end" name="end" value="{{ request.GET.end_date }}" title="Enter the end date" placeholder="YYYY-MM-DD">
    </form>
    <ul>
        {% for session in sessions %}
            <li>
                {{ session.subject }} - {{ session.date }} - {{ session.duration }} min
                <a href="{% url 'sessions_edit' session.pk %}">Edit</a>
                <a href="{% url 'sessions_delete' session.pk %}">Delete</a>
            </li>
        {% empty %}
            <li>No study sessions found.</li>
        {% endfor %}
    </ul>
        {% if is_paginated %}
            <div>
              {% if page_obj.has_previous %}
                <a href="?page=1">&laquo; first</a>
                <a href="?page={{ page_obj.previous_page_number }}">previous</a>
              {% endif %}
            
              Page {{ page_obj.number }} of {{ page_obj.paginator.num_pages }}
            
              {% if page_obj.has_next %}
                <a href="?page={{ page_obj.next_page_number }}">next</a>
                <a href="?page={{ page_obj.paginator.num_pages }}">last &raquo;</a>
              {% endif %}
            </div>
        {% endif %}
    
